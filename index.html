<html>
   <head>
      <meta charset="UTF-8">
      <title>Hello Rocketseat</title>
      <!-- <https://electronjs.org/docs/tutorial/security#csp-meta-tag> -->
      <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline';" />
      <!--Importo o a fonte Roboto do Google Fonts -->
			<link href="<https://fonts.googleapis.com/css2?family=Roboto&display=swap>" rel="stylesheet">
     
    <!--Importo o arquivo styles.css que criei para estilizar essa janela -->
    <link rel="stylesheet" href="styles.css">
   </style>
   </head>
   <body>
      <div class="intro">
         <h1>Hello Electron!</h1>
         <p>
            We are using node <script>document.write(process.versions.node)</script>,
            Chrome <script>document.write(process.versions.chrome)</script>,
            and Electron <script>document.write(process.versions.electron)</script>.
         </p>
         <h3>Meu primeiro app feito em Electron, usando só HTML, CSS e JS</h3>
      </div>
      <div class="card__todo">
         <h2>O que vou fazer hoje?</h2>
         <input type="text" onkeyup="addNewTodo(event)"  id="inputTodo" placeholder="Escreva sua atividade...">
         <span onclick="addNewTodo()" class="btn__add">ADD</span>
      </div>
      <ul id="ulTodo">
         <li class="checked">Fazer inscrição na NLW02</li>
         <li>Ler um post no blog da Rocketseat</li>
         <li class="checked">Estudar JavaScript</li>
         <li>Estudar a Doc do Electron</li>
      </ul>
      <script>
         console.log(" ---> Lendo o arquivo todos.js");
         
         // Cria os botões para excluir um item da lista de tarefas (que já foram criados no via html).
         const myNodelist = document.querySelectorAll("li");
         myNodelist.forEach((_, index) => {
           let span = document.createElement("span");
           let iconDelete = document.createTextNode("\u00D7");
           span.className = "close";
           span.appendChild(iconDelete);
           myNodelist[index].appendChild(span);
         });
         
         // Clicando no botão para excluir a tarefa da lista
         const closesButton = document.querySelectorAll(".close");
         
         closesButton.forEach((_, index) => {
           closesButton[index].onclick = function () {
             const div = this.parentElement;
             div.style.display = "none";
           };
         });
         
         // Marca/desmarca a tarefa como feita quando clicar em algum item da lista
         const todoList = document.querySelector("ul");
         todoList.addEventListener(
           "click",
           function (e) {
             if (e.target.tagName === "LI") {
               e.target.classList.toggle("checked");
             }
           },
           false
         );
         
         // Cria uma nova tarefa na lista de tarefas quando clicar no botão ADD ou pressionar ENTER no teclado
         function addNewTodo(event) {
           if (event && event.keyCode !== 13) return;
         
           const li = document.createElement("li");
           const inputTodo = document.getElementById("inputTodo").value;
           let t = document.createTextNode(inputTodo);
           li.appendChild(t);
           if (inputTodo === "") {
             alert("Digite alguma tarefa!");
           } else {
             document.getElementById("ulTodo").appendChild(li);
           }
           document.getElementById("inputTodo").value = "";
         
           const span = document.createElement("SPAN");
           const iconDelete = document.createTextNode("\u00D7");
           span.className = "close";
           span.appendChild(iconDelete);
           li.appendChild(span);
         
           span.onclick = function () {
             const div = this.parentElement;
             div.style.display = "none";
           };
         }
         
      </script>
   </body>
</html>